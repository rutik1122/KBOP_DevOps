<script src="~/Scripts/CommonFunctions.js"></script>
<script src="~/Scripts/SignPopUp.js"></script>
<script src="~/Scripts/Rtgs_L1.js"></script>
@{
    ViewBag.Title = "RTGSChecker_03";
    Layout = "~/Views/Shared/_Layout_2.cshtml";
}

<input id="Url" value="@ViewBag.URL" hidden />
<input id="WebImageURL" value="@ViewBag.WebImageURL" hidden />
<input id="PhysicalImageURL" value="@ViewBag.PhysicalImageURL" hidden />
<input id="Cid" value="@ViewBag.Count_id" hidden />
<input id="Sid" value="" hidden />
<input id="chq_Sid" value="" hidden />

<input id="loginid" value="@Session["Login_Page_Id"]" hidden />
<input id="L2StartLimit" value="@Session["l2startlimit"]" hidden />
<input id="L3StartLimit" value="@Session["l3startlimit"]" hidden />
<input id="CheckerModule" name="CheckerModule" value="@Session["CheckerModule"]" hidden />

<input id="BankCode" name="BankCode" value="@Session["BankCode"]" hidden />

<input id="AccNoMinLength" value="@Session["AccNoMinLength"]" hidden />
<input id="AccNoMaxLength" value="@Session["AccNoMaxLength"]" hidden />

<input id="AccNoMinLength" value="@Session["AccNoMinLength"]" hidden />
<input id="AccNoMaxLength" value="@Session["AccNoMaxLength"]" hidden />
<input id="AccBalanceValidation" value="@Session["AccBalanceValidation"]" hidden />

<input id="DotAccNo" value="@Session["DotAccNo"]" hidden />
<input id="DotAccNoPartA" value="@Session["DotA"]" hidden />
<input id="DotAccNoPartB" value="@Session["DotB"]" hidden />
<input id="DotAccNoPartC" value="@Session["DotC"]" hidden />

@*added new*@
<input id="Trans_Type" value="@ViewBag.tranType" hidden />
<input id="Count_chq_id" value="@ViewBag.cheque_id" hidden />

<input id="CheckerModule_L3" value="@Session["CheckerModule_L3"]" hidden />
<input id="RefNo" value="@ViewBag.RefNo" hidden />

<input id="Verf" value="@ViewBag.Verf" hidden />
<input id="KVal" value="@Session["KVal"]" hidden />



<div class="row col-12 mb-3 my-0">
    <form class="d-flex align-items-center" action="#">
        <div class="row">
            <h3 class="mb-0 text-primary position-relative">
                <span class="bg-200 dark__bg-1100 pe-3">
                    RTGS/NEFT Checker Form
                </span>
            </h3>
        </div>
        <div class="row">
            <div class="d-grid gap-8 d-md-block">
                <button class="btn btn-sm btn-primary mx-2" type="button" data-bs-toggle="offcanvas" id="btn_verf_sign"
                        data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling" onclick="getSignDetails()">
                    Get Sign
                </button>
                <button class="btn btn-danger btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#resetmodal" hidden>
                    Reset
                </button>
            </div>
        </div>

    </form>
</div>

<div class="row" id="rtgsdata">
    <div class="col-sm-1"></div>
    <div class="col-sm-3">
        <input type="radio" id="rtgs" name="img_type" value="RTGS" onclick="FormChange('rtgs');" />
        <label for="rtgs"><b>RTGS</b></label>
    </div>
    <div class="col-sm-3">
        <input type="radio" id="cheque" name="img_type" value="CHEQUE" onclick="FormChange('cheque');" />
        <label for="cheque"><b>CHEQUE</b></label>
    </div>
    <div class="col-sm-1"></div>
</div>


<div id="rtgs_block" class="row mb-2">
    <div id="div_rtgs" class="col-lg-8 col-md-8 col-sm-12">
        <div class="card" style="max-height: 69vh;overflow:scroll;position: relative;">
            <div class="card-body p-2">
                <div class="row">
                    <div class="col-lg-12 ">
                        @*<div class="form-group row mx-1 mb-0">
            <div class="form-check form-check-inline col">
                <label class="form-check-label" for="optionsRadios1">
                    <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios1"
                           value="option1" onclick="switchimage('frontGimg', 'BOT_RGB')" checked /> Front
                </label>
            </div>
            <div class="form-check col">
                <label class="form-check-label" for="optionsRadios2">
                    <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios2"
                           value="option2" onclick="switchimage('backGimg', 'TOP_RGB')" /> Back
                </label>
            </div>
            <div class="form-check col">
                <label class="form-check-label" for="optionsRadios3">
                    <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios3"
                           value="option3" onclick="switchimage('frontIRimg', 'BOT_IRR')" /> IR
                </label>
            </div>
            <div class="form-check col">
                <label class="form-check-label" for="optionsRadios4">
                    <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios4"
                           value="option4" onclick="switchimage('waterMark', 'TOP_QIR')" /> WM
                </label>
            </div>
            <div class="col">
                <div class="btn-group">
                    <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-toggle="tooltip"
                            data-bs-placement="top" title="Rotate">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z" />
                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>*@


                        <div class="text-center">
                            <img id="BG" src="" style="height: 1000px; width: auto;" alt="INSTRUMENT" onclick="ChqSlipPopUp('BG');">
                        </div>

                        <div id="popup1" style="display: none; background-color: white; position: absolute; top: 0px; z-index: 9999; box-shadow: 6px 6px 5px #888888; border-radius: 6px; border: 1px solid #4f4f4f; max-height: 500px; overflow-y: scroll;">
                            <div id="popup_bar1" style="height: 100%; width: 100%; background-color: #438EB9; color: white; position: relative; top: 0; border-radius: 6px 6px 0 0; text-align: center; height: 24px; cursor: move ">
                                <span id="id_title"></span>
                                <span id="btn_close" onclick="closeButton1()" style="float:right;cursor:pointer;padding-right:6px;">[X]</span>
                            </div>

                            <table id="chqSlipTable" style="width: 800px; ">
                                <thead style="border:1px solid black;background-color: cadetblue;color:white;">
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="div_rtgs_data" class="col-lg-4 col-md-4 col-sm-12">
        <div class="card" style="max-height: 69vh;overflow:scroll;position:relative;">
            <div class="card-body p-2 ">
                <div class="table-responsive">
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <th class="text-wrap">Form Type</th>
                                <td class="text-wrap">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" role="switch" id="id_inst_type" data-bs-toggle="tooltip" data-bs-placement="top"
                                               title="Instrument Type" onkeyup="changeInstType()" onclick="changeInstType();" disabled>

                                        <span class="badge bg-primary" id="lbl_inst_type"></span>
                                    </div>

                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Customer Name</th>
                                <td class="text-wrap">
                                    <input id="txt_cust_name" type="text" class="form-control form-control-sm" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Account No</th>
                                <td class="text-wrap">
                                    <input id="AccountNo" type="number" class="form-control form-control-sm" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Cheque No</th>
                                <td class="text-wrap">
                                    <input id="chqnoDataEntry" type="text" class="form-control form-control-sm" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Mobile No</th>
                                <td class="text-wrap">
                                    <input id="txt_mobile_no" type="number" class="form-control form-control-sm" placeholder="1234567890" readonly />
                                </td>
                            </tr>
                            @*<tr hidden>
                                    <th class="text-wrap">Tel No</th>
                                    <td class="text-wrap">
                                        <input id="txt_tel_no" type="number" class="form-control form-control-sm" placeholder="1234567890" />
                                    </td>
                                </tr>*@
                            @*<tr>
                                    <th class="text-wrap">Remitter LEI Code</th>
                                    <td class="text-wrap">
                                        <input id="txt_remitter_lei_code" type="text" class="form-control form-control-sm" />
                                    </td>
                                </tr>*@
                            @*<tr>
                                    <th class="text-wrap">Remitter LEI Expiry Date</th>
                                    <td class="text-wrap">
                                        <input id="txt_lei_date" type="text" class="form-control form-control-sm" placeholder="dd-MM-yyyy" />
                                    </td>
                                </tr>*@
                            @*<tr>
                                    <th class="text-wrap">Address of Remitter</th>
                                    <td class="text-wrap">
                                        <textarea id="txt_remitter_address" type="text" class="form-control form-control-sm"></textarea>
                                    </td>
                                </tr>*@
                            @*<tr>
                                    <th class="text-wrap">Email Id</th>
                                    <td class="text-wrap">
                                        <input id="txt_email_id" type="text" class="form-control form-control-sm" placeholder="emailaddress@gmail.com" />
                                    </td>
                                </tr>*@
                            @*<tr>
                                    <th class="text-wrap">Cash Deposited</th>
                                    <td class="text-wrap">
                                        <input id="txt_cash_deposited" type="number" class="form-control form-control-sm" />
                                    </td>
                                </tr>*@
                            <tr>
                                <th colspan="2" class="text-wrap"><b><i>Beneficiary Details:</i></b></th>
                            </tr>
                            <tr>
                                <th class="text-wrap">Name</th>
                                <td class="text-wrap">
                                    <input id="txt_bene_name" type="text" class="form-control form-control-sm" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Addrress</th>
                                <td class="text-wrap">
                                    <textarea id="txt_bene_address" type="text" class="form-control form-control-sm" readonly></textarea>
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Account No</th>
                                <td class="text-wrap">
                                    <input id="txt_bene_acc_no" type="text" class="form-control form-control-sm" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Confirm Account No</th>
                                <td class="text-wrap">
                                    <input id="txt_bene_conf_acc_no" type="text" class="form-control form-control-sm" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Bank Name & Branch</th>
                                <td class="text-wrap">
                                    <textarea id="txt_bene_bank_branch_name" type="text" class="form-control form-control-sm" readonly></textarea>
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">IFSC Code</th>
                                <td class="text-wrap">
                                    <input id="txt_ifsc_code" type="text" class="form-control form-control-sm" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">A/C Type</th>
                                <td class="text-wrap">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" role="switch" id="id_acc_type" data-bs-toggle="tooltip" data-bs-placement="top"
                                               title="Instrument Type" onkeyup="changeInstType()" onclick="changeAccType();" autocomplete="off" disabled>
                                        <span class="badge bg-primary" id="lbl_acc_type"></span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Amount</th>
                                <td class="text-wrap">
                                    <input id="txt_amt" maxlength="13" type="number" class="form-control form-control-sm" readonly />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap">Amount in words</th>
                                <td class="text-wrap">
                                    <textarea id="txt_amt_words" type="text" class="form-control form-control-sm" readonly></textarea>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                @*<div class="text-center">
                        <a id="btn_submit" href="#authenticationmodal" data-bs-toggle="modal">
                            <button class="btn btn-primary btn-sm" onclick="SubmitData();">Verify</button>
                        </a>
                    </div>*@

                <div class="text-center">
                    @*<a id="a_verify" href="#authenticationmodal" data-bs-toggle="modal">
                            <button class="btn btn-primary btn-sm" onclick="SubmitData()">Verify</button>
                        </a>*@
                    <a id="a_reject" href="#rejectmodal" data-bs-toggle="modal">
                        <button class="btn btn-danger btn-sm " onclick="Reject();">Reject</button>
                    </a>
                    <a id="a_accept" href="#acceptmodal" data-bs-toggle="modal">
                        <button class="btn btn-success btn-sm " onclick="Accept();">Accept</button>
                    </a>
                    <a id="a_rollback" href="#rollbackmodal" data-bs-toggle="modal">
                        <button class="btn btn-danger btn-sm" onclick="Rollback();">Rollback</button>
                    </a>
                    <a>
                        <button class="btn btn-danger btn-sm " onclick="CheckerList();">Back</button>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="chq_block" class="row mb-2">
    <div id="div_cheque" class="col-lg-8 col-md-8 col-sm-12">
        <div class="card" style="max-height: 69vh;overflow:scroll;position: relative;">
            <div class="card-body p-2">
                <div class="row">
                    <div class="col-lg-12 ">
                        <div class="form-group row mx-1 mb-0">
                            <div class="form-check form-check-inline col">
                                <label class="form-check-label" for="optionsRadios1">
                                    <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios1"
                                           value="option1" onclick="switchimage('frontGimg', 'BOT_RGB')" checked /> chqFront
                                </label>
                            </div>
                            <div class="form-check col">
                                <label class="form-check-label" for="optionsRadios2">
                                    <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios2"
                                           value="option2" onclick="switchimage('backGimg', 'TOP_RGB')" /> Back
                                </label>
                            </div>
                            <div class="form-check col">
                                <label class="form-check-label" for="optionsRadios3">
                                    <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios3"
                                           value="option3" onclick="switchimage('frontIRimg', 'BOT_IRR')" /> IR
                                </label>
                            </div>
                            <div class="form-check col">
                                <label class="form-check-label" for="optionsRadios4">
                                    <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios4"
                                           value="option4" onclick="switchimage('waterMark', 'TOP_QIR')" /> WM
                                </label>
                            </div>
                            <div class="col">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-toggle="tooltip"
                                            data-bs-placement="top" title="Rotate">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                             class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                  d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z" />
                                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="text-center">
                            <img id="FG" src="" class="img-fluid" style="height: 1000px;width:auto" alt="INSTRUMENT" onclick="ChqSlipPopUp(FG);">
                        </div>
                        <div id="popup2" style="display: none; background-color: white; position: absolute; top: 0px; z-index: 9999; box-shadow: 6px 6px 5px #888888; border-radius: 6px; border: 1px solid #4f4f4f; max-height: 500px; overflow-y: scroll;">
                            <div id="popup_bar2" style="width: 100%; background-color: #438EB9; color: white; position: relative; top: 0;  border-radius: 6px 6px 0 0; text-align: center; height: 24px; cursor: move ">
                                <span id="id_title"></span>
                                <span id="btn_close" onclick="closeButton1()" style="float:right;cursor:pointer;padding-right:6px;">[X]</span>
                            </div>

                            <table id="chqSlipTable" style="width: 800px; ">
                                <thead style="border:1px solid black;background-color: cadetblue;color:white;">
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="div_cheque_data" class="col-lg-4 col-md-4 col-sm-12">
        <div class="card" style="max-height: 69vh;overflow:scroll;position:relative;">
            <div class="card-body p-2 ">
                <div class="table-responsive">
                    <table class="table table-sm table-bordered">
                        <tbody>

                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">Cheque Date</th>
                                <td class="text-wrap">
                                    <input id="txt_chq_date" type="text" class="form-control form-control-sm" style="font-weight: bold;" />
                                </td>
                            </tr>

                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">IFSC Code</th>
                                <td class="text-wrap">
                                    <input id="txt_chq_ifsc_code" type="text" class="form-control form-control-sm" style="font-weight: bold;" />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">Payee Name</th>
                                <td class="text-wrap">
                                    <input id="chq_payee_name" type="text" class="form-control form-control-sm" style="font-weight: bold;" />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">Amount in words</th>
                                <td class="text-wrap">
                                    <textarea id="txt_chq_amt_words" type="text" class="form-control form-control-sm" style="font-weight: bold;"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">Amount</th>
                                <td class="text-wrap">
                                    <input id="txt_chq_amt" maxlength="13" type="number" class="form-control form-control-sm" style="font-weight: bold;" />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">Debit Account No</th>
                                <td class="text-wrap">
                                    <input id="chq_account_no" type="number" class="form-control form-control-sm" style="font-weight: bold;"
                                           onkeyup="changeAccNo();" />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">Account Holder Name</th>
                                <td class="text-wrap">
                                    @*<div id="Payeeee">
                                            <select id="PayeeName" class="form-select form-select-sm mb-2"></select>
                                        </div>*@
                                    <div id="Payeeee">
                                        <textarea id="PayeeName" type="text" class="form-control form-control-sm" style="font-weight:bold;"></textarea>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-wrap" style="font-weight: bold;">Acc Status</td>
                                <td class="text-wrap">
                                    <label id="accStatus" style="font-style: bold;font-size:15px;"></label>
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">Cheque No</th>
                                <td class="text-wrap">
                                    @*<textarea id="txt_chq_no" type="text" class="form-control form-control-sm"></textarea>*@
                                    <input id="txt_chq_no" type="text" class="form-control form-control-sm" style="font-weight: bold;" />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">Sort Code</th>
                                <td class="text-wrap">
                                    <input id="txt_sort_no" type="text" class="form-control form-control-sm" style="font-weight: bold;" />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">SAN</th>
                                <td class="text-wrap">
                                    <input id="txt_san_no" type="text" class="form-control form-control-sm" style="font-weight: bold;" />
                                </td>
                            </tr>
                            <tr>
                                <th class="text-wrap" style="font-weight: bold;">TR</th>
                                <td class="text-wrap">
                                    <input id="txt_tr_code" type="text" class="form-control form-control-sm" style="font-weight: bold;" />
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                @*<div class="text-center">
                        <a id="btn_submit" href="#authenticationmodal" data-bs-toggle="modal">
                            <button class="btn btn-primary btn-sm" onclick="SubmitData();">Verify</button>
                        </a>
                    </div>*@
                <div class="text-center">
                    @*<a id="a_verify" href="#authenticationmodal" data-bs-toggle="modal">
                            <button class="btn btn-primary btn-sm" onclick="submitdata()">verify</button>
                        </a>*@
                    <a id="a_reject" href="#rejectmodal" data-bs-toggle="modal">
                        <button class="btn btn-danger btn-sm " onclick="Reject();">Reject</button>
                    </a>
                    <a id="a_accept" href="#acceptmodal" data-bs-toggle="modal">
                        <button class="btn btn-success btn-sm " onclick="Accept();">Accept</button>
                    </a>
                    <a id="a_rollback" href="#rollbackmodal" data-bs-toggle="modal">
                        <button class="btn btn-danger btn-sm" onclick="Rollback();">Rollback</button>
                    </a>
                    <a>
                        <button class="btn btn-danger btn-sm " onclick="CheckerList();">Back</button>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Authentication Model on submit -->
<div class="modal fade" id="authenticationmodal" tabindex="-1" role="dialog" aria-labelledby="authentication-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable mt-6" role="document">
        <div class="modal-content border-0">
            <div class="modal-header px-5 position-relative modal-shape-header bg-shape">
                <div class="position-relative z-1" data-bs-theme="light">
                    <h4 class="mb-0 text-white" id="authentication-modal-label">Verification</h4>
                </div>
                <button class="btn-close btn-close-white position-absolute top-0 end-0 mt-2 me-2" data-bs-dismiss="modal"
                        aria-label="Close"></button>
            </div>
            <div id="div_accept_success" class="rounded-top-3 py-3 ps-4 pe-6 bg-light">
                <h5 class="text-center">
                    <strong class="me-auto">Do you want to Submit this Transaction ?</strong>
                </h5>
            </div>
            <div class="modal-body py-2 px-1">
                <table id="tbl_verf_fail" class="table table-sm">
                    <tbody>
                        <tr>
                            <th class="text-wrap">Error Msg</th>
                            <td class="text-wrap">
                                <lable id="errorMsg" class="badge badge-sm bg-warning" style="font-size:15px;"></lable>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table id="tbl_verf_result" class="table table-sm">
                    <tbody>
                        <tr>
                            <th class="text-wrap">Response</th>
                            <td class="text-wrap">
                                <lable id="successMsg" class="badge badge-sm bg-success" style="font-size:15px;"></lable>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div id="div_submit_pass" class="row g-2 mt-2 mx-4">
                    <div id="btn_postdata" class="col-sm-6"><a class="btn btn-primary btn-sm d-block w-100" onclick="DataPush()">Submit</a></div>
                    <div class="col-sm-6">
                        <a class="btn btn-secondary btn-sm d-block w-100" data-bs-dismiss="modal"
                           aria-label="Close">Cancel</a>
                    </div>
                </div>
                <div id="div_submit_fail" class="row g-2 mt-2 mx-4">
                    <label class="col-sm-10"></label>
                    <div id="btn_postdata" class="col-sm-2">
                        <a class="btn btn-primary btn-sm d-block w-100" data-bs-dismiss="modal">OK</a>
                    </div>
                </div>
                <div id="div_response_success" class="row g-2 mt-2 mx-4">
                    <label class="col-sm-10"></label>
                    <div id="btn_postdata" class="col-sm-2">
                        <a class="btn btn-primary btn-sm d-block w-100" data-bs-dismiss="modal" onclick="BackToPage('RTGS','L1')">OK</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End of Authentication Model on submit -->
<!-- Accept Modal -->
<div class="modal fade" id="acceptmodal" tabindex="-1" role="dialog" aria-labelledby="authentication-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable mt-6" role="document">
        <div class="modal-content border-0">
            <div class="modal-header px-5 position-relative modal-shape-header bg-shape">
                <div class="position-relative z-1" data-bs-theme="light">
                    <h4 class="mb-0 text-white" id="authentication-modal-label">Accept Transaction</h4>
                </div>
                <button class="btn-close btn-close-white position-absolute top-0 end-0 mt-2 me-2" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body py-2 px-1">
                <div class="table-responsive">
                    <div id="div_accept_confirmation" class="rounded-top-3 py-3 ps-4 pe-6 bg-light">
                        <h5 class="text-center">
                            <strong class="me-auto">Do you want to Accept this Transaction ?</strong>
                        </h5>
                    </div>
                    <table id="tbl_accept_success" class="table table-sm">
                        <tbody>
                            <tr>
                                <th class="text-wrap">Response</th>
                                <td class="text-wrap">
                                    <lable id="successMsg_accept" class="badge badge-sm bg-success" style="font-size:15px;"></lable>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="div_accept_failed" class="row g-2 mt-2 mx-4">
                        <label class="col-sm-10"></label>
                        <div id="btn_postdata" class="col-sm-2">
                            <a class="btn btn-primary btn-sm d-block w-100" data-bs-dismiss="modal">OK</a>
                        </div>
                    </div>
                    <div id="div_accept_button" class="row g-2 mt-2 mx-4">
                        <div id="btn_postdata" class="col-sm-6"><a class="btn btn-success btn-sm d-block w-100" onclick="DataPost('A')">YES</a></div>
                        <div class="col-sm-6">
                            <a class="btn btn-secondary btn-sm d-block w-100" data-bs-dismiss="modal"
                               aria-label="Close">NO</a>
                        </div>
                    </div>
                    <div id="btn_accept_success" class="row g-2 mt-2 mx-4">
                        <label class="col-sm-10"></label>
                        <div id="btn_postdata" class="col-sm-2">
                            <a class="btn btn-primary btn-sm d-block w-100" data-bs-dismiss="modal" onclick="CheckerList();">OK</a>
                        </div>
                    </div>
                </div>
                @*<div class="row g-2 mt-2 mx-4">
                        <div class="col-sm-6"><a class="btn btn-primary btn-sm d-block w-100" href="#">Submit</a></div>
                        <div class="col-sm-6"><a class="btn btn-secondary btn-sm d-block w-100" data-bs-dismiss="modal" aria-label="Close">Cancel</a></div>
                    </div>*@
            </div>
        </div>
    </div>
</div>
<!-- End of Accept Modal -->
<!-- Reject Modal -->
<div class="modal fade" id="rejectmodal" tabindex="-1" role="dialog" aria-labelledby="authentication-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable mt-6" role="document">
        <div class="modal-content border-0">
            <div class="modal-header px-5 position-relative modal-shape-header bg-shape">
                <div class="position-relative z-1" data-bs-theme="light">
                    <h4 class="mb-0 text-white" id="authentication-modal-label">Rejection Reason</h4>
                </div>
                <button class="btn-close btn-close-white position-absolute top-0 end-0 mt-2 me-2" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body py-2 px-1">
                <div class="table-responsive">
                    <div id="div_reject_success" class="rounded-top-3 py-3 ps-4 pe-6 bg-light">
                        <h5 class="text-center">
                            <strong class="me-auto">Do you want to Reject this Transaction ?</strong>
                        </h5>
                        <div id="div_reject_code" class="input-group input-group-sm mb-2">
                            <span style="width: 100px;" class="input-group-text">Code</span>
                            <input id="div_code" type="text" class="form-control" placeholder="88" disabled>
                        </div>
                        <div id="div_reject_desc" class="input-group input-group-sm">
                            <span class="input-group-text">Description</span>
                            <input id="div_desc" type="textarea" class="form-control" placeholder="xyz">
                        </div>
                        <div id="div_desc_alert" class="input-group input-group-sm">
                            <span style="color: red;">Description is mandatory</span>
                        </div>
                    </div>
                    <table id="tbl_reject_success" class="table table-sm">
                        <tbody>
                            <tr>
                                <th class="text-wrap">Response</th>
                                <td class="text-wrap">
                                    <lable id="successMsg_reject" class="badge badge-sm bg-success" style="font-size:15px;"></lable>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table id="tbl_reject_list" class="table table-sm table-hover table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th scope="col">Code</th>
                                <th scope="col">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div id="div_reject_failed" class="row g-2 mt-2 mx-4">
                        <label class="col-sm-10"></label>
                        <div id="btn_postdata" class="col-sm-2">
                            <a class="btn btn-primary btn-sm d-block w-100" data-bs-dismiss="modal">OK</a>
                        </div>
                    </div>
                    <div id="div_reject_button" class="row g-2 mt-2 mx-4">
                        <div id="btn_postdata" class="col-sm-6"><a class="btn btn-danger btn-sm d-block w-100" onclick="DataPost('R')">YES</a></div>
                        <div class="col-sm-6">
                            <a class="btn btn-secondary btn-sm d-block w-100" data-bs-dismiss="modal"
                               aria-label="Close">NO</a>
                        </div>
                    </div>
                    <div id="btn_reject_success" class="row g-2 mt-2 mx-4">
                        <label class="col-sm-10"></label>
                        <div id="btn_postdata" class="col-sm-2">
                            <a class="btn btn-primary btn-sm d-block w-100" data-bs-dismiss="modal" onclick="CheckerList();">OK</a>
                        </div>
                    </div>
                </div>
                @*<div class="row g-2 mt-2 mx-4">
                        <div class="col-sm-6"><a class="btn btn-primary btn-sm d-block w-100" href="#">Submit</a></div>
                        <div class="col-sm-6"><a class="btn btn-secondary btn-sm d-block w-100" data-bs-dismiss="modal" aria-label="Close">Cancel</a></div>
                    </div>*@
            </div>
        </div>
    </div>
</div>
<!-- End of Reject Modal -->
<!-- Rollback Modal -->
<div class="modal fade" id="rollbackmodal" tabindex="-1" role="dialog" aria-labelledby="authentication-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable mt-6" role="document">
        <div class="modal-content border-0">
            <div class="modal-header px-5 position-relative modal-shape-header bg-shape">
                <div class="position-relative z-1" data-bs-theme="light">
                    <h4 class="mb-0 text-white" id="authentication-modal-label">Rollback Transaction</h4>
                </div>
                <button class="btn-close btn-close-white position-absolute top-0 end-0 mt-2 me-2" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body py-2 px-1">
                <div class="table-responsive">
                    <div id="div_rollback_success" class="rounded-top-3 py-3 ps-2 pe-4 bg-light">
                        <h5 class="text-center">
                            <strong class="me-auto">Do you want to Rollback this Transaction ?</strong>
                        </h5>
                    </div>
                    <div id="tbl_rollback_desc" class="table table-sm">
                        <h6>Enter Reason for Rollback</h6>
                        <input id="rollbackDesc" type="text" class="form-control" placeholder="Describe" data-bs-toggle="tooltip" data-bs-placement="top"
                               style="font-size: 17px;" autocomplete="off">
                    </div>
                    <table id="tbl_rollback_success" class="table table-sm">
                        <tbody>
                            <tr>
                                <th class="text-wrap">Response</th>
                                <td class="text-wrap">
                                    <lable id="rollbackMsg" class="badge badge-sm bg-success" style="font-size:15px;"></lable>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="div_rollback_button" class="row g-2 mt-2 mx-4">
                        <div id="btn_postdata" class="col-sm-6"><a class="btn btn-warning btn-sm d-block w-100" onclick="DataPost('ROLLBACK')">YES</a></div>
                        <div class="col-sm-6">
                            <a class="btn btn-secondary btn-sm d-block w-100" data-bs-dismiss="modal"
                               aria-label="Close">NO</a>
                        </div>
                    </div>
                    <div id="btn_rollback_success" class="row g-2 mt-2 mx-4">
                        <label class="col-sm-10"></label>
                        <div id="btn_postdata" class="col-sm-2">
                            <a class="btn btn-primary btn-sm d-block w-100" data-bs-dismiss="modal" onclick="CheckerList();">OK</a>
                        </div>
                    </div>
                </div>
                <!-- <div class="row g-2 mt-2 mx-4">
                  <div class="col-sm-6"><a class="btn btn-primary btn-sm d-block w-100" href="#">Submit</a></div>
                  <div class="col-sm-6"><a class="btn btn-secondary btn-sm d-block w-100" data-bs-dismiss="modal" aria-label="Close">Cancel</a></div>
                </div> -->
            </div>
        </div>
    </div>
</div>
<!-- End of Rollback Modal -->

<script type="text/javascript">

    var x = '@ViewBag.URL';
    var WebImageURL = '@ViewBag.WebImageURL';
    var PhysicalImageURL = '@ViewBag.PhysicalImageURL';
    var popup = "";
    var recipt = "no";

    var ErrorMessage = "";

    var rooturl = '@Url.Content("~/")';

    var access_token = window.localStorage.getItem('AccessToken');
    var bearer = window.localStorage.getItem('TokenType');

    var authHeaders = {};
    authHeaders.Authorization = bearer + " " + access_token;

    var AccountValidation = false;
    var CompleteValidation = false;

    // Data Field
    var AccountNo = "";
    var amount = 0;
    var instrument_srl_no = "";
    var instrument_date = "";
    var instrument_alpha = "";
    var trans_particular = "";
    var rpt_code = "";
    var remark1 = "";
    var remark2 = "";

    var transtype = "RTGS_03_04";
    var ImageUrl = "";
    var BankCode = "";
    var flag = "";

    var ValidateAccBalance = "";
    var AccBalance = "";

    // DOT function Account No
    var finalAccount = "";
    var acc1 = "";
    var acc2 = "";
    var acc3 = "";

    var NRE_Flag = "N";
    var RefNo = "";
    var loginId = "";
    var count_id = "";
    var chq_count_id = "";
    var CustId = "";

    var CheckerPage = true;
    var Rollback = false;

    var rtgsdata = document.getElementById('tblChequeData');

   /* $("#ProcessingBar").hide();*/

    //$("#div_img").hide();
    //$("#div_img_data").hide();

    // Reset Logic Begin
    $("#div_reset_msg").show();
    $("#div_reset_button").show();
    $("#btn_close_reset").show();
    $("#btn_yes_reset").show();
    $("#btn_no_reset").show();
    $("#div_reset_success").hide();
    $("#tbl_reset_response").hide();
    $("#success_reset").hide();
    $("#failed_reset").hide();
    $("#div_reload_page_button").hide();
    $("#btn_reload").hide();
        //$("#div_rtgs").hide();
        //$("#div_rtgs_data").hide();
        // Reset Logic End

    $("#rtgs_block").show();
    $("#chq_block").hide();

    $(document).ready(function () {

        $("#ProcessingBar").hide();
        $("#btn_verf_sign").hide();
        debugger;
        //alert("withdrawal function");
        document.getElementById("rtgs").checked = true;
        //username = document.getElementById("loginId").value;

        //document.getElementById("ProcessingBar").innerHTML = "Processing Request...";
        document.getElementById("lbl_inst_type").innerHTML = "RTGS";
        document.getElementById("lbl_acc_type").innerHTML = "Resident";

        BankCode = document.getElementById("BankCode").value;
        ValidateAccBalance = document.getElementById("AccBalanceValidation").value;
        /* loginId = document.getElementById("loginid").value;*/
        username = document.getElementById("loginid").value;

        var count_id = document.getElementById("Cid").value;
        //chq_count_id = document.getElementById("Count_chq_id").value;
        verfLevel = document.getElementById("Verf").value;
        RefNo = document.getElementById("RefNo").value;

        var chq_id = document.getElementById("Count_chq_id").value;

        debugger;
        var transtype = document.getElementById("Trans_Type").value;
        //if (uploadtype == "03")
        //    transtype = "RTGS03";
        //if (uploadtype == "04")
        //    transtype = "RTGS04";

        $.ajax({
            type: "POST",
            url: rooturl + "Home/ValidateSession",
            data: {},
            datatype: "json",
            success: function (data) {
                if (data == "False") {
                    window.location = rooturl + "Home/LoginiBAS?cond=1";
                }
            }
        });

        document.getElementById("errorMsg").innerHTML = "";

        debugger;
        var y = "GetBankFormData"
       /* var y = "getrtgsDetails"*/

        $.ajax({
            type: "POST",
            url: x + y,
            data: {
                FormType: 'RTGS', Verf_Level: verfLevel, BankCode: BankCode, LoginId: username, CountId: count_id, ReferenceNo: RefNo, uploadtype: transtype
            },
           /* data: { CountId: count_id, user: loginId, Verf_Level: verfLevel, ReferenceNo: RefNo },*/
            success: GetRtgsFormData,
            error: getError

        });


    });


    function changeInstType() {
        var inst_val = document.getElementById("id_inst_type").checked;
        if (inst_val == false) {
            document.getElementById("lbl_inst_type").innerHTML = "RTGS";
        }
        else {
            document.getElementById("lbl_inst_type").innerHTML = "NEFT";
        }
    }



    function changeAccType() {
        var inst_val = document.getElementById("id_acc_type").checked;
        if (inst_val == false) {
            document.getElementById("lbl_acc_type").innerHTML = "Resident";
        }
        else {
            document.getElementById("lbl_acc_type").innerHTML = "Non Resident";
        }
    }




</script>


